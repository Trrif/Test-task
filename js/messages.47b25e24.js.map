{"version":3,"sources":["webpack:///./src/components/Messages/TheMessages.vue?412c","webpack:///src/components/Messages/TheMessages.vue","webpack:///./src/components/Messages/TheMessages.vue?e146","webpack:///./src/components/Messages/TheMessages.vue","webpack:///./node_modules/core-js/modules/_array-methods.js","webpack:///./node_modules/core-js/modules/_is-array.js","webpack:///./src/store/modules/mixins.js","webpack:///./node_modules/core-js/modules/es6.array.find-index.js","webpack:///./src/store/modules/messages/index.js","webpack:///./src/components/Messages/TheMessages.vue?df7e","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectSpread.js","webpack:///./node_modules/core-js/modules/_array-species-create.js","webpack:///./node_modules/core-js/modules/_array-species-constructor.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","message","key","id","class","messages__wrapper_deleted","status","_v","_s","text","messages__btn_pending","messages__btn_deleted","attrs","disabled","connected","on","click","$event","websocketHandler","refresh","staticRenderFns","TheMessagesvue_type_script_lang_js_","name","mounted","websocket","initWebsocket","computed","Object","vuex_esm","methods","Messages_TheMessagesvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","ctx","__webpack_require__","IObject","toObject","toLength","asc","module","exports","TYPE","$create","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","create","$this","callbackfn","that","val","res","O","self","f","length","index","result","undefined","push","cof","Array","isArray","arg","d","state","mutations","setConnected","_ref","url","onmessage","onopen","WebSocket","sendWebsocket","data","send","$export","$find","KEY","forced","P","F","findIndex","arguments","_root_base_b_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","messages","getters","findIndexById","actions","commit","dispatch","evt","_ref2","delete","_ref3","setTimeout","_ref4","deleteMessage","splice","setStatus","_ref5","namespaced","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TheMessages_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TheMessages_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n","_defineProperty","obj","value","defineProperty","enumerable","configurable","writable","_objectSpread","target","i","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","speciesConstructor","original","isObject","SPECIES","C","constructor","prototype"],"mappings":"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","file":"js/messages.47b25e24.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"messages\"},[_vm._l((_vm.messages),function(message){return [_c('div',{key:message.id,staticClass:\"messages__wrapper\",class:{ messages__wrapper_deleted: message.status === 'deleted' }},[_c('li',[_c('div',{staticClass:\"messages__item\"},[_c('div',{staticClass:\"messages__text\"},[_vm._v(_vm._s(message.text))]),_c('button',{staticClass:\"messages__btn\",class:{\n\t\t\t\t\t\t\tmessages__btn_pending: message.status === 'pending',\n\t\t\t\t\t\t\tmessages__btn_deleted: message.status === 'deleted'\n\t\t\t\t\t\t},attrs:{\"disabled\":message.status === 'pending' || !_vm.connected},on:{\"click\":function($event){_vm.websocketHandler(message.id)}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\tУдалить\\n\\t\\t\\t\\t\\t\")])])])])]}),_c('div',{staticClass:\"messages__wrapper\"},[_c('div',{staticClass:\"messages__btn\",on:{\"click\":_vm.refresh}},[_vm._v(\"Refresh\")])])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<ul class=\"messages\">\n\t\t<template v-for=\"message in messages\">\n\t\t\t<div\n\t\t\t\t:key=\"message.id\"\n\t\t\t\tclass=\"messages__wrapper\"\n\t\t\t\t:class=\"{ messages__wrapper_deleted: message.status === 'deleted' }\"\n\t\t\t>\n\t\t\t\t<li>\n\t\t\t\t\t<div class=\"messages__item\">\n\t\t\t\t\t\t<div class=\"messages__text\">{{ message.text }}</div>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t@click=\"websocketHandler(message.id)\"\n\t\t\t\t\t\t\tclass=\"messages__btn\"\n\t\t\t\t\t\t\t:disabled=\"message.status === 'pending' || !connected\"\n\t\t\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t\t\tmessages__btn_pending: message.status === 'pending',\n\t\t\t\t\t\t\t\tmessages__btn_deleted: message.status === 'deleted'\n\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tУдалить\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t</div>\n\t\t</template>\n\t\t<div class=\"messages__wrapper\"><div class=\"messages__btn\" @click=\"refresh\">Refresh</div></div>\n\t</ul>\n</template>\n\n<script>\nimport { mapState, mapActions } from \"vuex\";\n\nexport default {\n  name: \"TheMessages\",\n  mounted() {\n    if (!this.websocket) this.initWebsocket(\"wss://echo.websocket.org\");\n  },\n  computed: mapState(\"messages\", [\"messages\", \"connected\", \"websocket\"]),\n  methods: mapActions(\"messages\", [\n    \"initWebsocket\",\n    \"websocketHandler\",\n    \"refresh\"\n  ])\n};\n</script>\n\n<style lang=\"scss\">\n@import \"../../scss/mixins/common/layout\";\n@import \"../../scss/mixins/common/buttons\";\n@import \"../../scss/variables/colors\";\n\n.messages {\n  margin: 0;\n  padding-left: 18px;\n\n  &__item {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n  }\n  &__wrapper {\n    @include wrap(4px) padding: 4px;\n    transition-property: background, color;\n    transition-duration: 0.3s;\n\n    &:not(:first-child) {\n      border-top: 2px $primary-color;\n    }\n\n    &_deleted {\n      color: $font-color-white;\n      background-color: $primary-color-dark;\n      border-radius: 4px;\n    }\n  }\n\n  &__btn {\n    @include btn-secondary;\n\n    &_pending {\n      visibility: hidden;\n\n      &:after {\n        @include loader(16px);\n        cursor: auto;\n        visibility: visible;\n        content: \" \";\n        position: absolute;\n        top: -5px;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        margin: auto;\n      }\n    }\n\n    &_deleted {\n      visibility: hidden;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TheMessages.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TheMessages.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TheMessages.vue?vue&type=template&id=db584840&\"\nimport script from \"./TheMessages.vue?vue&type=script&lang=js&\"\nexport * from \"./TheMessages.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TheMessages.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"TheMessages.vue\"\nexport default component.exports","// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","const websocket = {\n  state: {\n    websocket: null,\n    connected: false\n  },\n\n  mutations: {\n    setConnected(state) {\n      state.connected = true;\n    },\n    initWebsocket(state, { url, onmessage, onopen }) {\n      state.websocket = new WebSocket(url);\n      state.websocket.onopen = onopen;\n      state.websocket.onmessage = onmessage;\n    },\n    sendWebsocket(state, data) {\n      state.websocket.send(data);\n    }\n  }\n};\n\nexport { websocket };\n","'use strict';\n// 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(6);\nvar KEY = 'findIndex';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","import { websocket } from \"../mixins\";\n\nconst state = {\n  ...websocket.state,\n  messages: [\n    {\n      text: \"Тестовый коммент 1\",\n      id: 0,\n      status: \"passive\"\n    },\n    {\n      text: \"Это шедевр\",\n      id: 4,\n      status: \"passive\"\n    },\n    {\n      text: \"Это прекрасно\",\n      id: 6,\n      status: \"passive\"\n    },\n    {\n      text: \"Лучшее, что я видел\",\n      id: 5,\n      status: \"passive\"\n    },\n    {\n      text: \"Два чая этому автору\",\n      id: 8,\n      status: \"passive\"\n    }\n  ]\n};\n\nconst getters = {\n  findIndexById: state => id => {\n    return state.messages.findIndex(message => message.id == id);\n  }\n};\n\nconst actions = {\n  initWebsocket({ commit, dispatch }, url) {\n    commit(\"initWebsocket\", {\n      url,\n      onopen: () => {\n        commit(\"setConnected\");\n      },\n      onmessage: evt => {\n        let id = evt.data;\n\n        dispatch(\"delete\", id);\n      }\n    });\n  },\n  websocketHandler({ commit, getters }, id) {\n    let index = getters.findIndexById(id);\n\n    commit(\"setStatus\", { index, status: \"pending\" });\n    commit(\"sendWebsocket\", id);\n  },\n  delete({ commit, getters }, id) {\n    let index = getters.findIndexById(id);\n    commit(\"setStatus\", { index, status: \"deleted\" });\n    setTimeout(() => {\n      commit(\"deleteMessage\", index);\n    }, 200);\n  },\n  refresh({ commit }) {\n    commit(\"refresh\");\n  }\n};\n\nconst mutations = {\n  ...websocket.mutations,\n  deleteMessage(state, index) {\n    state.messages.splice(index, 1);\n  },\n  setStatus(state, { index, status }) {\n    state.messages[index].status = status;\n  },\n  refresh(state) {\n    state.messages = [\n      {\n        text: \"Тестовый коммент 1\",\n        id: 0,\n        status: \"passive\"\n      },\n      {\n        text: \"Это шедевр\",\n        id: 4,\n        status: \"passive\"\n      },\n      {\n        text: \"Это прекрасно\",\n        id: 6,\n        status: \"passive\"\n      },\n      {\n        text: \"Лучшее, что я видел\",\n        id: 5,\n        status: \"passive\"\n      },\n      {\n        text: \"Два чая этому автору\",\n        id: 8,\n        status: \"passive\"\n      }\n    ];\n  }\n};\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations\n};\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TheMessages.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TheMessages.vue?vue&type=style&index=0&lang=scss&\"","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n"],"sourceRoot":""}